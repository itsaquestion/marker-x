
## Beyond Equilibrium: Revisiting Two-Sided Markets From An Agent-Based Modelling Perspective Torsten Heinrich

Institute for New Economic Thinking (INET) at the Oxford Martin School, University of Oxford, Walton Well Road - Eagle House, OX2 6ED Oxford, UK and Institute for Institutional and Innovation Economics (IINO), University of Bremen, Hochschulring 4, D-28359 Bremen, Germany Email: torsten.heinrich@maths.ox.ac.uk

## Claudius Gräbner*

Institute for Comprehensive Analysis of the Economy, Johannes Kepler University Linz, Altenbergerstraße 52, 4040 Linz, Austria Email: claudius@claudius-graebner.com
*Corresponding author Abstract: Two-sided markets are an important aspect of today's economies.

Yet, the attention they have received in economic theory is limited, mainly due to methodological constraints of conventional approaches: Two-sided markets often exhibit non-trivial dynamics that are difficult to describe via analytical equilibrium models. We illustrate this point by revisiting a well-known equilibrium model of two-sided markets by Rochet and Tirole from an agentbased computational perspective. We identify several inconsistencies as well as implicit and implausible assumptions of the original model. These limit its explanatory power and motivate an alternative approach. The agent-based model we propose allows us to study two-sided markets in a more realistic and adequate manner: Not only are we able to compare different decision-making rules for the providers, we can also study situations with more than two providers. Thus, our model represents a first step towards a more realistic and policy-relevant study of two-sided markets.

Keywords: two-sided markets; network externalities; agent-based modelling;
simulation; heuristic decision making; reinforcement learning; satisficing; differential evolution; evolutionary economics; market structure; IT economics; equilibrium dynamics.

Reference to this paper should be made as follows: Heinrich, T. and Gräbner, C.

(2019) 'Beyond equilibrium: revisiting two-sided markets from an agent-based modelling perspective', *Int. J. Computational Economics and Econometrics*, Vol. 9, No. 3, pp.153–180.

Biographical notes: Torsten Heinrich studied Economics at the Dresden University of Technology, Germany, and the Universidad Autónoma de Madrid, Spain. He received his PhD from the University of Bremen, Germany, in 2011
with a thesis on technological change and growth patterns under conditions of network effects. Working on complex systems, agent-based modelling, simulation and strategic games in economics, he edited special issues in scientific journals and authored both journal papers and monographs. He holds a postdoc position at the Institute for New Economic Thinking (INET) at the University of Oxford, UK, and teaches at the University of Bremen, Germany. Claudius Gräbner is a Research Associate at the Institute for Comprehensive Analysis of the Economy (ICAE) at the Johannes Kepler University Linz. He holds an undergraduate degree in social sciences, economics and law from the University of Erfurt, Germany, and obtained his PhD in Economics at the Institute for Institutional and Innovation Economics at the University of Bremen, Germany. His research interests include computational economics, development economics, game theory and econometrics. His main focus is on the evolutionary analysis of social institutions, the methodology of social sciences and the microeconomic effects of free trade agreements. This paper is a revised and expanded version of a paper entitled 'Beyond equilibrium: revisiting two-sided markets from an agent-based modelling perspective' presented at the *EAEPE Conference 2015*, Genoa, 17–19 September,
2015 and the *CCS Conference 2015*, Tempe, 28 September–2 October, 2015.

## 1 Introduction

Two-sided-markets (TSM) are of tremendous significance in the economy: a market is called two-sided if there are two groups of customers, usually buyers and sellers, that require the service of a third party to conduct transactions with each other. This third party is called provider. Examples for TSM include credit card systems (where the provider is the credit card company), video games (where the provider is the producer of video game consoles) or personal computers (where the provider is the producer of an operating system).1
TSM pose huge difficulties for conventional economic analysis: the interaction among three types of agents quickly yields nonlinear dynamics that are very difficult to capture with standard equilibrium models. One reason is that the provider's service exhibits network externalities in the sense that her service becomes more valuable to the customers the more customers are already signed up. Usually, network externalities for users of any one side are generated by the network of users on the other side. In such cases, customers of both sides must be present for the network externalities to materialise either directly or indirectly. On top of this, the strategy space for the provider is *at least* 4-dimensional: She can charge customers for general membership in her network, and per executed transaction through his network. She can also set different prices for the two sides. In extreme cases, one side might even be subsidised (i.e., 'charged' negative prices).

This is a common business practice: temporary premium benefits or even monetary incentives, for example, are frequently offered for new users in online market platform; credit card companies often maintain bonus point systems and may give cash rewards to frequent users.

In this paper, we contribute to a better understanding of TSM on two levels: On the methodological level we illustrate the inadequacy of an equilibrium approach to the study of TSM. We do this by focusing on one of the canonical equilibrium models, the one by Rochet and Tirole (2003, 2006). Analytically we show that the model remains intransparent regarding the strong assumptions required to ensure a unique and stable equilibrium. We also build a computational agent-based version of the model that helps to make transparent many of the other implicit assumptions made by Rochet and Tirole - a strategy that has proven successful since at least Gode and Sunder (1993). By doing so we illustrate the limitations of the analytical equilibrium-approach: in order to keep the model tractable one needs to reduce the possibility space for the providers to a minimum, and must assume away most of the non-linearities present in the system. The resulting models are unable to capture either the price differentiation between different user groups, business strategies that depend on disentangling entry and transaction fees, or the true uncertainty faced by the providers. This would be less severe if the consequences of these implausible assumptions were negligible. By exploiting the modularity of our computational model we show that taking even a small step towards a more realistic description of the TSM system has significant consequences. This raises the methodological concern of whether equilibrium models are credible means to study TSM at all.

Our second contribution is on the substantial level and consists of the ABM as such:
our model is able to capture the most important aspects of TSM and provides some first key insights into the functioning of TSM that already go beyond what can be achieved with current equilibrium models. In particular, we are able to show how the number of providers affects the market outcome, what kinds of strategies providers can develop to sustain their profits (and what kinds of strategies are likely to fail), and what regularities or characteristics are to be expected in the development of these systems. Our model thus represents a first step in studying TSM from an ABM perspective and serves as an illustration of both the usefulness and the necessity of such an approach.

The rest of the paper is structured as follows: after giving a short overview of the existing literature in Section 2, Section 3 explains the fundamental problems of the equilibrium approach to TSM as taken by Rochet and Tirole (2006). A rigorous discussion of the model - which provides analytical insights that go beyond what Rochet and Tirole show in their papers - can be found in Appendix. Section 4 introduces our ABM and illustrates how the results of the equilibrium model depend on several crucial assumptions. In Section 5 we discuss the additional insights that can be derived from our computational model before we conclude in Section 6.

## 2 Literature Review

The concept of two-sided markets was originally developed in the literature on banking and credit card systems to study the coordination of prices and fees between the involved financial institutions.2 The term was first used in Rochet and Tirole (2003), which was previously published as a working paper in 2000. It was quickly realised that network externalities are an important feature of the systems under investigation without which those systems could not be properly understood. Subsequent models (Rochet and Tirole, 2003, 2006; Armstrong, 2006; Choi, 2010; Peitz et al., 2011), therefore, generally referred to the game-theory-based equilibrium and welfare analysis of network externalities following Katz and Shapiro (1985). They did, however, ignore the literature on path dependence, lock-in, and non-equilibrium systems (David, 1985; Arthur et al., 1987), which are likely to arise from network externalities. From this perspective, and considering the argument that real business strategies are too complex to be captured by simple optimisation behaviour, computational non-equilibrium methods such as agent-based simulations seem to be an intuitivemodellingchoice.Indeed,inrecentyears,thisapproachtoTSMisreluctantlytaken: Peitz et al. (2011) perform Monte Carlo simulations to find optimal strategies in their model. Meyer (2012) proposes an agent-based model of two-sided markets, but concentrates on the network effects. He keeps pricing exogenous and focuses on computationally establishing the viability of his theoretical results. We now try to close the existing research gap by proposing a full-fledged agent-based model that can be used to study the pricing behaviour in TSM.

## 3 Formal Problems In The Canonical Rochet-Tirole Model

Analytical equilibrium models are currently the standard way to analyse TSM. It is one of the main messages of the present paper that such an approach can come with some serious drawbacks. We chose the model of Rochet and Tirole (2003, 2006) to illustrate this drawback since it is often considered a canonical model for TSM and is, therefore, representative of the conventional treatment of TSM.

The Rochet/Tirole model - as most equilibrium models - consists of three types of agents, buyers, sellers, and one single provider. Every buyer potentially interacts with every seller and the provider is able to facilitate all resulting transactions which are a constant share of all potential transactions - a strong assumption justified by the authors by referring to it as being common practice (Rochet and Tirole, 2006, p. 652).

Buyers and sellers receive a total benefit from being part of the provider's network and a per-transaction benefit. The provider charges them a membership fee and a transaction fee while incurring a per-customer and a per-transaction cost. The authors then postulate the existence of a unique equilibrium for the respective sizes of the network and derive some comparative statics results for the resulting prices.

Such an approach is, however, not without difficulties. One problem of the model is its lack of transparency concerning the mathematical derivations and assumptions. We, therefore, provide a detailed and rigorous description of the model, that goes beyond what Rochet and Tirole offer in their papers, in the appendix. Here we focus on the fundamental problems of their approach to justify an alternative treatment of TSM that transcends these limitations.

## 3.1 Incapacity To Consider Asymmetry Among Buyers And Sellers

Rochet and Tirole use the product of the total number of buyers and sellers as a proxy for the actual number of transactions. This assumes the probability of interaction between any buyer and seller to be equal. This is not the case in real-life interaction networks.

The assumption not only cuts away a large part of the micro-layer of the system but also renders any distinction between entry fee and per-transaction fee irrelevant. For heterogeneous interaction frequencies, high entry fees would encourage membership among more well-connected, more central agents while high per-transaction fees would discourage this (and in relative terms would encourage membership among less well-connected agents instead). Credit card systems serve as an illustrative example: it must be assumed that geographical distance matters for the interaction patterns and that some buyers travel more widely than others, and that some sellers tend to cater to larger or geographically more dispersed groups of buyers. It is likely that the providers' strategies take this into account.

## 3.2 Necessity To Assume Perfect Information Of Customers

Rochet and Tirole assume that agents can calculate their utility from being part of a provider network in advance. However, one of the central problems for all customers in the real world is that their utility of a provider network depends on the numbers of members of this network. This leads to a recursive relationship between the buyer and seller expectations that is a key aspect of TSM, but is simply assumed away in the model. The assumption is also unnecessary as Rochet and Tirole *assume* the system to converge towards a unique and stable equilibrium. In this case, agents should arrive at the same result by just using past utilities as a proxy for the expected outcome of the current period - a far more realistic scenario which has been explored in the agent-based simulation in Section 4.

## 3.3 Transformation Of The System Into A Per-Transaction Mode

Rochet and Tirole transform all costs and utilities into a per-transaction mode. This means that all per-customer terms (the entry fees Ai, utility from network membership, Bi, and true costs, Ci) get divided by the expected number of transactions for that customer. This facilitates the derivation of an equilibrium and removes all remaining differences between entry fees and per-transaction fees which in turn generates problems for computational algorithms in which the provider uses the same optimisation as a basis for her strategy: For the provider, there is no ex-ante difference between raising entry fees or transaction costs. However, ex-post, customers do not have an incentive to pay high per-transaction costs after gaining access to the network paying a still low (or negative) entry fee.

## 3.4 Negative Per-Transaction Benefits For The Customers Cannot Be Considered

The customer's utility function (see equation A1 in Appendix) is assumed to be increasing in the number of customers from the other side, starting from a negative intercept (otherwise, no equilibrium solution would exist, see equation A4 in Appendix). This means customers would not have a dominant incentive to join the network if there were no customers of the other type. In reality, network externalities dictate the provider to first build her user base (by setting negative fees, paying the first users to join the network) before network externalities emerge which can then be harvested by setting positive fees. The software industry provides many examples for such strategies. Further, it is also a potential business strategy to subsidise one side of the market (e.g., the buyers) from the fees paid by the other side. Both cases are plausible and many examples in the real world exist, but they are obviously beyond the scope of the model.

## 3.5 Assumption Of A Unique Equilibrium

For equilibrium treatments of TSM to be useful, the assumption that the system under investigation is near a unique and stable equilibrium must be plausible. For TSM this is generally not the case. Unfortunately, equilibrium approaches cannot deal with this problem adequately. Rochet and Tirole (Rochet and Tirole, 2006, p.653), for instance, refer to the existence of such an equilibrium under 'regularity conditions' - but it remains unclear what these conditions are.

This is particularly relevant since an algebraic derivation of these conditions is rather complex, even for the most simple possible case. A detailed analytical treatment of the problem is provided in Appendix B. Here we focus on the key message: in many plausible situations, we can show that there is no unique equilibrium and equilibrium models in the style of Rochet and Tirole are unable to say anything about how TSM works in such cases. For example, if some people use their credit cards all the time, while others use them only for specific purposes, such as making hotel reservations or booking flights, we will have a system of demand functions with four equilibria only two of which would be stable. See Figure B2 in Appendix B.

The Rochet-Tirole model generally neglects such cases. It's central result - that TSM
conforms to the Lerner equation prescribing an equal ratio between prices and priceelasticities of demand for both seller and buyer prices - is difficult to test as all the relevant terms in the model mutually depend on each other and only price and demand can be isolated empirically. Given their methodological focus on equilibrium models, Rochet and Tirole are unable to provide any general conclusions beyond saying that higher numbers of 'captive' customers of type i lead to higher prices for type i: a larger number of already committed sellers prompts the provider to set lower prices for buyers and increase the price for sellers (Rochet and Tirole, 2006, p.659).

This criticism applies to a wide range of equilibrium models and illustrates the fundamentalproblemsofanequilibriumapproachtoasituationinwhichmutualdependence and continuous change are essential properties of the system under investigation.

## 4 An Agent-Based Model Of Tsm

We now describe our ABM. Because the focus is on studying the price setting behaviour of the provider, the customer agents are designed as simple as possible. An overview over the parameters of the model can be found in Table 1.

## 4.1 The Customers 4.1.1 Construction Of The Agents

The customer agents are instantiated as either buyers or sellers. Their type remains constant over time. While we also studied the impact of varying group sizes on the model output (see Section 5 and Figure 2), we use, where not indicated otherwise, a standard setting with 2000
sellers and 10,000 buyers. Agents start in t0 with a wealth of zero and are heterogeneous concerning their per-transaction benefits, bi.3 This benefit changes every round and is drawn from a uniform distribution.

| Symbol                                  | Name                                  | Description                | Default value   |
|-----------------------------------------|---------------------------------------|----------------------------|-----------------|
| A                                       |                                       |                            |                 |
| i                                       |                                       |                            |                 |
| fixed                                   |                                       |                            |                 |
| Fixed entry fee                         | Relevant only in the optimisation     |                            |                 |
| (0                                      | ,                                     |                            |                 |
| −                                       |                                       |                            |                 |
| 200)                                    |                                       |                            |                 |
| case (endogenous otherwise)             |                                       |                            |                 |
| ]                                       |                                       |                            |                 |
| N                                       |                                       |                            |                 |
|                                         | B                                     |                            |                 |
| Number of buyers                        | -                                     | 10,000                     |                 |
| g                                       |                                       |                            |                 |
| N                                       |                                       |                            |                 |
|                                         | S                                     |                            |                 |
| Number of sellers                       | -                                     | 2000                       |                 |
| ]                                       |                                       |                            |                 |
| N                                       |                                       |                            |                 |
|                                         | P                                     |                            |                 |
| Number of providers                     | -                                     | 1, 10                      |                 |
| C                                       |                                       |                            |                 |
| fixed                                   |                                       |                            |                 |
| Provider fixed cost                     | -                                     | 10,000                     |                 |
| C                                       |                                       |                            |                 |
| i                                       |                                       |                            |                 |
| Per customer fixed costs                | Costs incurred to the provider        | 50                         |                 |
| for every customer                      |                                       |                            |                 |
| c                                       |                                       |                            |                 |
| i                                       |                                       |                            |                 |
| Per transaction costs                   | Costs incurred to the provider        | 25                         |                 |
| for every transaction                   |                                       |                            |                 |
| t                                       |                                       |                            |                 |
| max                                     |                                       |                            |                 |
| Nb. of time steps                       | -                                     | 500                        |                 |
| -                                       | Nb. of transactions                   | -                          | 30,000          |
| per iteration                           |                                       |                            |                 |
| -                                       | Subscription threshold                | Customers do not try       | 400             |
| to subscribe to further providers       |                                       |                            |                 |
| if their revenue is below the threshold |                                       |                            |                 |
| ¯                                       | p                                     |                            |                 |
| Mean reservation price                  |                                       |                            |                 |
| p                                       |                                       |                            |                 |
| r                                       |                                       |                            |                 |
| B                                       |                                       |                            |                 |
|                                         | ∝ U                                   |                            |                 |
| (¯                                      | p,                                    | 1                          | .               |
| and                                     | 1000                                  |                            |                 |
| p                                       |                                       |                            |                 |
| r                                       |                                       |                            |                 |
| S                                       |                                       |                            |                 |
|                                         | ∝ U                                   |                            |                 |
| (0                                      | .                                     | 5¯                         | p,              |
| c                                       |                                       |                            |                 |
| R                                       |                                       |                            |                 |
| Roaming costs                           | Costs incurred to customers           | 100                        |                 |
| when using the network of a             |                                       |                            |                 |
| provider they have no subscription with |                                       |                            |                 |
| F                                       |                                       |                            |                 |
| Entry fee range                         | Range of admissible entry fees        | (–3000, 5000)              |                 |
| F                                       |                                       |                            |                 |
| Transaction fee range                   | Range of admissible transaction fees. | (–1000, 1010)              |                 |
| -                                       | Ema-Faktor                            | Exponential moving average | 0.01            |
| factor governing the adaptation speed   |                                       |                            |                 |
| of the reinforcement learning mechanism |                                       |                            |                 |

There are two reasons for these assumptions: Firstly, this largely fulfils the assumption of Rochet and Tirole (2003) and Rochet and Tirole (2006) with one stable equilibrium. Secondly, the main interest of the present research is not the influence of particular distributions of preferences, but the pricing behaviour of the providers.

At t0 all customers are subscribed to one of the providers chosen randomly for each customer.

## 4.1.2 Decision Making Of The Agents

For a constant number of transactions in every round, two customers (one buyer and one seller) are chosen randomly. Each of those transactions is conducted only if a positive transaction benefit (shared equally afterwards4) remains for the two customers after subtraction of per-transaction prices they would incur in conducting the transaction.

In every round, agents may decide to join one of the provider's networks. In the model by Rochet and Tirole, the decision is made according to the following formula (which has been adjusted for the discrete case):

$$b_{k}^{i}+\frac{B^{i}-C^{i}}{N_{t-1}^{j}}\geq p_{t-1}^{i}=a_{k}^{i}+\frac{A^{i}-C^{i}}{N_{t-1}^{j}}.$$ $$b_{k}^{i}+\frac{B^{i}}{N_{t-1}^{j}}\geq p_{t-1}^{i}=a_{k}^{i}+\frac{A^{i}}{N_{t-1}^{j}}.$$
The condition is most conveniently verified by assessing whether or not the agent incurred losses by participating in the network (of this particular provider) in the last period. We, therefore, tanslate this function into decision Algorithm 1 for agent k (assuming k is a seller and that the number of buyers in the network has not yet been updated; we also assume that if the agent is not subscribed to any provider, one is randomly assigned with a moderate probability of 10%:5)
Algorithm 1 Decision making algorithm for customer k.

if providerlistk! = {} then
   for all P ∈ providerlistk do
       if revenue from transactions using provider P is < 0 then
           remove P from providerlistk
       end if
   end for
end if
if providerlistk = {} and with probability 0.1 or revenuek > 400 then
   Select random provider P0
   Add P0 to providerlist
end if

A particular provider is selected randomly by the agent with the probability to select provider i being a monotonically increasing function of the share of customers already subscribed to provider i.

## 4.2 The Provider Agent

We consider three different price setting strategies for the provider (see Table 2).

Inthefirstcase,theprovideroptimiseshisprofitsusingadifferentialevolutionalgorithm.

This algorithms helps her compute the optimal entry fees and per interaction fees to be charged from the buyers and sellers. The differential evolution algorithm allows us to study a generative version of the Rochet-Tirole model and to compare it against the other cases as a benchmark. It is certainly the closest replication of a rational choice setting that we can get in a computational context. For such a *quasi rational choice* setting to be tractable, many unrealistic and implausible assumptions such that the provider knows the exact shape of the demand function he faces are required. This setting represents, however, a benchmark against which the other, more realistic versions of the model can be compared. It, therefore, allows us to test whether the inadequacy of the assumptions necessary in the equilibrium context does matter for the outcome of the model. If it did not, the use of equilibrium models *as the one by* Rochet and Tirole could still be justified on the grounds that assumptions in economic models are always to a certain degree unrealistic, but that this 'unrealisticness' does not matter too much.

In order to go beyond the unrealistic assumptions of the original model and to get alternatives to this rational choice benchmark, we implement the model with two versions of a reinforcement learning algorithm for the provider. Providers that use the reinforcement learningalgorithmtosetentryfeesandperinteractionfees adapttheirpricesettingstrategies accordingtotheirsuccessinthepast.Suchbehaviourdoesnotinvolvemanyoftheunrealistic assumptions necessary in the benchmark (such as complete knowledge of the demand functions) and is compatible with the basic notion of bounded rationality. We study the model with and without a satisficing element in the strategy algorithm. Because of the computational simplicity of the reinforcement learning mechanism, we are also able to study the behaviour of the model with more than one provider.

## 4.2.1 Instantiation Of The Provider Agent

The provider gets instantiated with a list recording the subscriptions and the profits. Depending on which case of Table 2 we consider, she is assigned a strategy according to which she sets the entry fees and per transaction fees. This can be either a differential evolution algorithm that should mimic an optimal and rational choice (to replicate the results of Rochet and Tirole) or a reinforcement learning algorithm, which represents a more realistic scenario of how the providers set their prices.

Cases considered
Provider decision
One
Ten
Fixed
Endogenous
making
Description
provider
providers
entry fees
entry fees
Optimisation
The provider knows the
X
X
algorithm
distribution of the customers' reservation prices and uses a differential evolution algorithm to optimise his profit every round
Reinforcement
The provider changes
X
X
X
learning
the transaction and subscription fees for the customers depending on
whether his revenues have
risen of fallen compared with the previous round
Reinforcement
In this case the provider
X
X
X
learning with
stops changing his strategy
satisficing
after having reached a satisfying level of profits

## 4.2.2 Price Setting Strategies For The Provider Provider Decision Using A Differential Evolution Algorithm

Every round the provider maximises her profits using a differential evolution algorithm (Storn and Price, 1997). Such optimisation algorithms require the provider to be informed about the distribution of the reservation prices and the types of the customer agents. Therefore, this decision-making algorithm is not very realistic and used only to replicate the results of Rochet and Tirole in a generative and agent-based framework and to serve as an ideal benchmark case that can be compared to other decision-making concepts. It illustrates, however, some of the fundamental difficulties of Rochet and Tirole's model that remain unaddressed in an analytical framework: While the algorithm is rather successful in finding optima on target functions that are not too rugged and works very well for per-transaction fees for buyers and sellers (as, aB) as free variables (with fixed entry fees AS, AB), it fails in cases where the provider must set all four variables (AS, AB, as, aB).6 This indicates that assuming a provider acts in an optimising way is a very misleading assumption, rather than a useful abstraction of reality.

## Provider Decision Using Reinforcement Learning

Amorerealisticconceptionofthedecision-makingprocessistouseareinforcementlearning algorithm:7 in this case, the distributions of bi and Bi remain unknown to the provider.

Instead, she considers her success in the past and adjusts her prices accordingly.

There are three different ways the provider can adjust her prices: firstly, to continue using the current price, secondly, to increase the prices towards some maximum value and, thirdly, to decrease the prices towards a (negative) minimum value.8 All three possibilities are assigned a certain probability weight that gets adjusted according to the success of the provider compared to past revenues.

Practically, the provider decides according to the following procedure:

1
She checks whether she can match her operating costs. If not, then the current strategy gets discouraged strongly and the strategy is set back to a sustainable (though not necessarily very successful) initial value.9
2
She takes the revenue of the previous round as a relative success measure.10
3
The probability weights of all strategies are adjusted, with the probability weight of the current strategy increased if the strategy was successful, otherwise decreased.
4
The provider chooses new prices according to the current probability weights.

## Provider Decision Using Reinforcement Learning With Satisficing

The above reinforcement learning strategy may be extended to include satisficing in the sense of Simon (1955). In this case, before step 3 in the above algorithm, the provider checks whether a satisficing level of revenue and number of customers is reached. If this is the case, the strategy is not changed and the provider does not update her prices. If no satisficing level is reached, the provider acts identically as above.

## 4.3 Summary Of The Simulation

Here we summarise the sequence of events for the whole simulation. Note that a welldocumented version of the source code is also available via the GitHub repository "Beyond_Equilibrium" (https://graebnerc.github.io/Beyond_Equilibrium/).

1
Create the agents.
2
Set global provider choice functions containing probability weights for the choice of providers by customers.
3
Create initial allocation of buyer and seller agents to providers (random uniform).
4
Iteration for the specified time steps. Each time step consists of six stages: 1st Stage: Realisation of the transactions.
i
Choose new reservation prices for all buyers and sellers.
ii
Conduct the specified number of transactions
A
Seller and buyer are randomly chosen
B
Compare the reservation prices pr
B and pr
S. Continue only if
pr
B > pr
S.
C
Identify cheapest available channel of transmission between buyer and seller (depending on their subscriptions) and the corresponding transaction cost ct.
D
If pr
B−pr
S
2
> ct, the transaction is conducted, buyers and sellers
receive pr
B−pr
S
2
each, the providers are awarded the transaction costs.
2nd Stage: Customers pay the fees to the provider 3rd Stage: Providers pay fixed costs and per-customer costs. 4th Stage: Data gets collected and evaluated. 5th Stage: Unsubscription decisions by the customers and adjustment of the
providers' network weights.
6th Stage: Subscription decisions of the customers.
i
A customer subscribes to a provider if either of the following is true:
•
If she has more revenue left than a threshold value.
•
If the customer currently has no provider she has to subscribe to a provider with a probability of 0.1. This is necessary to ensure that customers do not immediately join the same unfavourable provider.
ii
A random provider is chosen.
7th
Stage: Reset weights of "providers' and customers' iteration-specific"
variables (money, income, revenue, ...).
8th
Stage: Providers set entry fee and transactions fees for buyers and sellers.

## 5 Simulation Results 5.1 Optimal Provider Decision Using A Differential Evolution Algorithm

Simulation results for rationally optimising providers are shown in Figures 1 (buyer and seller transaction prices) and 3 (welfare distribution).

As expected, the provider consistently chooses the same prices in every time period. The unbiased random distortion arises from imperfections in the approximative optimisation algorithm. This leads to a stable overall result after a potential initial adjustment of the size of the networks (agents with low bi leaving). The result is also invariant with respect to the number of providers as all rational optimisers will compute the same optimal prices: as the increasing returns brought about by the network externalities favour large competitors, all but one of these providers will fade into obscurity while one will take over the entire population and continue identically to the case of just one provider. Since the rational optimisers are by design perfectly informed (see Section 4.2), they outcompete heuristic decision-makers when confronted with them.

The rationally optimising provider is included as a benchmark case and as a point of comparison to Rochet and Tirole's model. While it would be as difficult to scrutinise whether the Lerner formula holds (Rochet and Tirole's central result) as it is in reality, Rochet and Tirole's interpretation of the same as more 'captive' customers of type i leading to higher prices for this type can be verified. The present ABM does not allow for 'captive' customers, but higher numbers of buyers relative to that of sellers do indeed lead to higher prices for buyers and lower ones for sellers. Figure 2 shows the prices set by rational optimisation with differential evolution for different numbers of buyers compared to a constant 2000 sellers (with a constant expected potential number of transactions per customer). The result of the equilibrium model is nicely reproduced and has an intuitive interpretation: the smaller group has a more powerful position than the larger group, as they are important for the provider to build up a network. This, however, is but a tiny part of the rich dynamics that result from the more realistic heuristic decision mechanisms below.

Interestingly, the rational optimisation mechanism only works well with fixed entry fees, i.e., with only the transaction fees being subject to optimisation. Simultaneous optimisation of all four terms fails, non-optimal prices are set, and the network collapses. This is because most parameter settings then lead to empty networks and thus a (constant) non-existing profit with nothing to optimise. The field of successful values is small and accidentally hit by the initial population only in rare cases. This is yet another powerful argument against the use of models that simply *assume* that such unique and stable equilibria exist and can be reached by the provider.

In summary, our model is able to transfer the basic model by Rochet and Tirole into an agent-based framework and to study the importance of several important assumptions. The difficulties we encounter cast serious doubts on whether the equilibrium-based approach is useful in the context of TSM.

## 5.2 Reinforcement Learning And Satisficing

Using the reinforcement learning algorithm for the decision-making of the providers allows us both to drop unrealistic assumptions - e.g., the perfect information about demand functions and the ability to perform the optimisation - and to let the provider set the entryfees for the customers endogenously. However, the results are more volatile and path dependent than for the differential evolution algorithm case. The system does not converge towards an equilibrium. Instead, it follows certain quasi-periodical patterns; once the different runs are out of sync, the corridor of results widens, although the simulation still indicates a clear corridor in which the results can be found.

A selection mechanism works on the providers' strategies in the form of customers joining networks with more favourable price setting and generating both network externalities and revenue there. The selection mechanism does, however, only function if there is competition.

Consequently, simulation runs with only one single provider generally result in malicious pricing behaviour, destruction of the network and complete failure (see the number of customers as shown in Figure 4). Without satisficing (upper left panel), only the 10%
customers that randomly join the provider's network before leaving it again in the following period remain. As this is an artefact of the simulation design, this strategy can be considered to be absolutely unsuccessful. Withsatisficing (upper right panel), the providermay succeed, but the network still breaks down in more than 60% of the runs. In the case of multiple (in our case 10) competing providers, the network is successfully established in many runs both with and without satisficing. With satisficing (lower right panel), the average number of customers shows a clear upward trend, something that does not occur in the setting without satisficing (lower left panel) because reinforcement learning can lead to overshoots (driving prices too high or too low) if satisficing does not freeze the strategy at some satisfactory setting. It is important that the heuristic decision-making provider is more successful if the range of possible successful price settings is larger, e.g., if ceteris paribus the fixed costs the provider faces are lower. This is shown for the case with 10 providers employing reinforcementlearningwithsatisficinginFigure5.Iftheviablerangeofsuccessfulstrategies is lower, the probability to hit one of them by chance is lower and the expected time to the successful establishment of a network by any one of the providers increases.

As a single provider is usually not able to build up a functioning network, we are now focusing on the cases of 10 providers and study the path dependent pricing decisions in more detail. Analogous to Figures 1 and 3 for the rational optimisation case, Figures 6 and 8 show the development of buyer and seller prices as well as revenue and its distribution among buyers, sellers, and providers for all reinforcement learning providers with (upper panel) and without (lower panel) satisficing. As seen in Figure 6, both types of providers systematically charge a higher subscription fee for the larger group, the buyers. This corresponds to the pattern seen both in Figure 2 for rational optimisation and in Rochet and Tirole's anecdotal evidence and inferred by them to be a result of the Lerner equation. However, the present result is more nuanced: The opposite pattern can be seen for transaction fees, here the customers in the smaller group, the sellers, are charged more. It is crucially important for the provider to have enough members of the smaller group in the network such that sufficiently many interactions can take place. With this accomplished, a higher per-transaction fee can be charged. Indeed, here, the sellers, the members of the smaller group, are charged slightly more, as they have a larger expected number of transactions than the buyers as a result of the different group sizes and the uniform interaction probability. Note that the same pattern can currently be observed for credit card systems in the US with providers subsidising the buyer side with generous benefits while charging the merchant side. Of course, in this case, the merchants simply pass on the fees to the buyers in the form of extra charges for credit cards.

Transforming all the different types of fees and prices into one single per-transaction price as done in Rochet and Tirole's approach overlooks this pattern which furthermore is of a strongly path-dependent nature (see Figure 7). That is, it is statistically observable in averages and quantiles of the distribution of results of many simulation runs, but there are runs for which the reversed pattern emerges and persists partly or entirely over the course of the simulation. The same path-dependence is, of course, found in other variables including the size of networks, and the development of revenues.

to set optimal prices. However, consistently increasing absolute revenue can be observed for the satisficing strategy (lower panels). It also attains disproportionately higher levels for cases with lower fixed costs.11 The development of revenue is also path-dependent: In some cases, the providers fail to successfully establish a functioning network resulting in the loss of the network externalities that would both continue to sustain the network and generate the bulk of the revenue.

In all cases, the smaller group, that of the sellers, is much better off as the provider cannot afford losing their support and only hesitantly increases transaction prices for them, which also affects the buyer's ability to conduct cost-effective transactions. In real-world economic systems, the sellers may proceed to pass this entire fee on to the buyers (see above).

Considering these results from a policy perspective suggests that overall welfare could be increased if the public agent supports providers in building up a well-functioning network that generates positive externalities for all agents, and then provides incentives for a sustainable satisficing strategy. This preliminary conclusion, however, illustrates the intricacy of TSM and the need for their further investigation from an agent-based perspective: the original Rochet Tirole model simply assumed away the complexity that makes such policy questions both difficult and interesting.

## 6 Conclusions

The present paper contributes to the study of TSM in two respects: Firstly, on the methodological level, we showed that studying two-sided markets with conventional equilibrium models bears the danger to overlook the most fundamental features of these markets. Secondly, on the substantial level, we introduced an agent-based model that illustrates both the usefulness and necessity of a computational approach to the study of TSM.

With regard to our methodological contribution: The most promising results obtained in conventional equilibrium models are equilibrium conditions - such as the Lerner equation in Rochet and Tirole's approach - which can, given abundant confidence in the result, be interpreted to account for specific pricing patterns - such as higher prices for the customer group with more 'captive' users.

While we have shown that it is possible to reproduce this in a much more realistic agent-based setting with little difficulty, the universality of this result is highly doubtful for two reasons:
Firstly, the entire equilibrium construct rests on an array of incredibly bold assumptions as discussed in Section 3. Our computational approach showed that this unrealisticness matters because relaxing the strong assumptions changes the dynamics predicted by the model significantly.

Secondly, agent-based simulations in Section 5 also showed that once the assumption of rational optimisation with perfect information is relaxed, the dynamics of the system become highly path-dependent. Universal prediction *a la* Rochet and Tirole is not appropriate for such systems.

With regard to our second contribution, our ABM was able to generate the following insights: First, heuristic decision algorithms, as considered here in the form of reinforcement learning with and without Simonian satisficing, are able to distinguish effectively between user groups and to set subscription and transaction fees accordingly. The dominant pattern was found to be high subscription fees for the side with larger numbers of agents (buyers in our case) in order to subsidise the smaller group while transaction fees were higher for the smaller group that on average conducts more transactions.

Second, in order for the heuristic algorithms to work efficiently, a certain selection pressure is essential. In our case, this was provided by competition between several providers. In real-world economic systems, alternative technological paths are also feasible, e.g., if the dominant video game platform providers charge excessively high prices, sooner or later, another technology will emerge in which the price-setting behaviour happens to be more moderate.

Third, we found relentless and myopic optimisation, even with (or especially with)
heuristic decision algorithms to be susceptible to unsustainable decisions, specifically overshooting prices. A simple modification, introducing satisficing into the decision mechanism resolves this. Note that the decision mechanisms considered here are still excessively simple, if not trivial. Nevertheless, their application to TSM represents a new contribution to the literature and illustrates the point that decision-makers using extremely simple heuristics can achieve reasonable results. In real-world systems, it is often observed that providers spend long years and unbelievable amounts of money on building up an installed base of users to generate network externalities and attract more users (this being known as the 'burn rate' during the new economy bubble) before starting to make profits. More successful examples include Google and Facebook, less successful (and hence today also less well-known) ones include WorldCom, GeoCities, or Tiscali.

Fourth, a larger field of viable solutions which result in the successful establishment of a network have a profound impact on the speed with which heuristic strategies are able to find them. This translates directly into the probability of the emergence of a network which would then be self-sustainable as a result of the network externality. Factors constraining the size of this field are in our case operating costs of the providers; in real-world systems, this would be complemented by technological aspects, such as the regulatory environment, and cultural factors.

Finally, as compared to an unrealistic rational optimiser with perfect information, the welfare-efficiency in terms of revenue generated for providers and both types of customers is rather modest in heuristic optimisation cases (and the rational optimiser may not even constitute the welfare optimum). While more sophisticated heuristic strategies may perform better, it is not likely that they will get close to the benchmark. As a complication, any number of interfering effects may occur in real systems: technological lock-ins with huge sunk costs, unsuccessful providers with a high initial 'burn rate', which then translates into losses for investors or for the public, or the complete failure to establish a working network. The complicated two-sided network externality and the disparity between the provider's incentives and public interest and will, in any case, prevent any efficiency-optimising effect that may be present in other economic systems. That is not to say that TSM systems are per se inefficient, merely that regulation can have and did have a positive effect on this.

While our proposed ABM is still exceedingly simple, the first results were already promising and may serve as a starting point for further research. Several aspects naturally warrant further investigation: the effect of non-homogeneous interaction patterns or a non-trivial network structure between customers, more sophisticated strategies on the part of the providers, and possible welfare-enhancing policy measures.

The methodological conclusion of this paper is that all these important aspects require an investigation from an agent-based rather than equilibrium perspective. This will also facilitate the empirical assessment of the theories since ABM enable us to investigate a substantially wider variety of hypotheses both on the assumption and the conclusion side.
